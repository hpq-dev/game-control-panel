window.bootbox=window.bootbox||function a(I,H){function G(d){var c=s[u.locale];return c?c[d]:s.en[d]}function F(b,h,g){b.preventDefault();var f=I.isFunction(g)&&g(b)===!1;f||h.modal("hide")}function E(e){var d,f=0;for(d in e){f++}return f}function D(b,f){var e=0;I.each(b,function(d,c){f(d,c,e++)})}function C(b){var f,e;if("object"!=typeof b){throw new Error("Please supply an object of options")}if(!b.message){throw new Error("Please specify a message")}return b=I.extend({},u,b),b.buttons||(b.buttons={}),b.backdrop=b.backdrop?"static":!1,f=b.buttons,e=E(f),D(f,function(c,g,d){if(I.isFunction(g)&&(g=f[c]={callback:g}),"object"!==I.type(g)){throw new Error("button with key "+c+" must be an object")}g.label||(g.label=c),g.className||(g.className=2>=e&&d===e-1?"btn-primary":"btn-default")}),b}function B(f,e){var h=f.length,g={};if(1>h||h>2){throw new Error("Invalid argument length")}return 2===h||"string"==typeof f[0]?(g[e[0]]=f[0],g[e[1]]=f[1]):g=f[0],g}function A(b,f,e){return I.extend(!0,{},b,B(f,e))}function z(g,f,j,i){var h={className:"bootbox-"+g,buttons:y.apply(null,f)};return x(A(h,i,j),f)}function y(){for(var h={},d=0,l=arguments.length;l>d;d++){var k=arguments[d],j=k.toLowerCase(),i=k.toUpperCase();h[j]={label:G(i)}}return h}function x(e,c){var f={};return D(c,function(g,d){f[d]=!0}),D(e.buttons,function(b){if(f[b]===H){throw new Error("button key "+b+" is not allowed (options are "+c.join("\n")+")")}}),e}var w={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>"}},v=I("body"),u={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0},t={};t.alert=function(){var b;if(b=z("alert",["ok"],["message","callback"],arguments),b.callback&&!I.isFunction(b.callback)){throw new Error("alert requires callback property to be a function when provided")}return b.buttons.ok.callback=b.onEscape=function(){return I.isFunction(b.callback)?b.callback():!0},t.dialog(b)},t.confirm=function(){var b;if(b=z("confirm",["cancel","confirm"],["message","callback"],arguments),b.buttons.cancel.callback=b.onEscape=function(){return b.callback(!1)},b.buttons.confirm.callback=function(){return b.callback(!0)},!I.isFunction(b.callback)){throw new Error("confirm requires a callback")}return t.dialog(b)},t.prompt=function(){var r,q,n,m,l,j,g;if(m=I(w.form),q={className:"bootbox-prompt",buttons:y("cancel","confirm"),value:"",inputType:"text"},r=x(A(q,arguments,["title","callback"]),["cancel","confirm"]),j=r.show===H?!0:r.show,r.message=m,r.buttons.cancel.callback=r.onEscape=function(){return r.callback(null)},r.buttons.confirm.callback=function(){var f;switch(r.inputType){case"text":case"email":case"select":f=l.val();break;case"checkbox":var e=l.find("input:checked");f=[],D(e,function(h,i){f.push(I(i).val())})}return r.callback(f)},r.show=!1,!r.title){throw new Error("prompt requires a title")}if(!I.isFunction(r.callback)){throw new Error("prompt requires a callback")}if(!w.inputs[r.inputType]){throw new Error("invalid prompt type")}switch(l=I(w.inputs[r.inputType]),r.inputType){case"text":case"email":l.val(r.value);break;case"select":var c={};if(g=r.inputOptions||[],!g.length){throw new Error("prompt with select requires options")}D(g,function(f,i){var h=l;if(i.value===H||i.text===H){throw new Error("given options in wrong format")}i.group&&(c[i.group]||(c[i.group]=I("<optgroup/>").attr("label",i.group)),h=c[i.group]),h.append("<option value='"+i.value+"'>"+i.text+"</option>")}),D(c,function(e,d){l.append(d)}),l.val(r.value);break;case"checkbox":var b=I.isArray(r.value)?r.value:[r.value];if(g=r.inputOptions||[],!g.length){throw new Error("prompt with checkbox requires options")}if(!g[0].value||!g[0].text){throw new Error("given options in wrong format")}l=I("<div/>"),D(g,function(i,h){var f=I(w.inputs[r.inputType]);f.find("input").attr("value",h.value),f.find("label").append(h.text),D(b,function(e,d){d===h.value&&f.find("input").prop("checked",!0)}),l.append(f)})}return r.placeholder&&l.attr("placeholder",r.placeholder),m.append(l),m.on("submit",function(d){d.preventDefault(),n.find(".btn-primary").click()}),n=t.dialog(r),n.off("shown.bs.modal"),n.on("shown.bs.modal",function(){l.focus()}),j===!0&&n.modal("show"),n},t.dialog=function(b){b=C(b);var n=I(w.dialog),m=n.find(".modal-body"),l=b.buttons,h="",g={onEscape:b.onEscape};if(D(l,function(d,c){h+="<button data-bb-handler='"+d+"' type='button' class='btn "+c.className+"'>"+c.label+"</button>",g[d]=c.callback}),m.find(".bootbox-body").html(b.message),b.animate===!0&&n.addClass("fade"),b.className&&n.addClass(b.className),b.title&&m.before(w.header),b.closeButton){var e=I(w.closeButton);b.title?n.find(".modal-header").prepend(e):e.css("margin-top","-10px").prependTo(m)}return b.title&&n.find(".modal-title").html(b.title),h.length&&(m.after(w.footer),n.find(".modal-footer").html(h)),n.on("hidden.bs.modal",function(c){c.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),n.on("escape.close.bb",function(c){g.onEscape&&F(c,n,g.onEscape)}),n.on("click",".modal-footer button",function(c){var f=I(this).data("bb-handler");F(c,n,g[f])}),n.on("click",".bootbox-close-button",function(c){F(c,n,g.onEscape)}),n.on("keyup",function(c){27===c.which&&n.trigger("escape.close.bb")}),v.append(n),n.modal({backdrop:b.backdrop,keyboard:!1,show:!1}),b.show&&n.modal("show"),n},t.setDefaults=function(){var b={};2===arguments.length?b[arguments[0]]=arguments[1]:b=arguments[0],I.extend(u,b)},t.hideAll=function(){I(".bootbox").modal("hide")};var s={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return t.init=function(b){window.bootbox=a(b||I)},t}(window.jQuery);